{"ast":null,"code":"import NativeAnimatedNonTurboModule from \"./NativeAnimatedModule\";\nimport NativeAnimatedTurboModule from \"./NativeAnimatedTurboModule\";\nimport NativeEventEmitter from \"../NativeEventEmitter\";\nimport Platform from \"../../../exports/Platform\";\nimport invariant from 'fbjs/lib/invariant';\nvar NativeAnimatedModule = Platform.OS === 'ios' && global.RN$Bridgeless ? NativeAnimatedTurboModule : NativeAnimatedNonTurboModule;\nvar __nativeAnimatedNodeTagCount = 1;\nvar __nativeAnimationIdCount = 1;\nvar nativeEventEmitter;\nvar waitingForQueuedOperations = new Set();\nvar queueOperations = false;\nvar queue = [];\nvar API = {\n  getValue: function getValue(tag, saveValueCallback) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n\n    if (NativeAnimatedModule.getValue) {\n      NativeAnimatedModule.getValue(tag, saveValueCallback);\n    }\n  },\n  setWaitingForIdentifier: function setWaitingForIdentifier(id) {\n    waitingForQueuedOperations.add(id);\n    queueOperations = true;\n  },\n  unsetWaitingForIdentifier: function unsetWaitingForIdentifier(id) {\n    waitingForQueuedOperations[\"delete\"](id);\n\n    if (waitingForQueuedOperations.size === 0) {\n      queueOperations = false;\n      API.disableQueue();\n    }\n  },\n  disableQueue: function disableQueue() {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n\n    if (Platform.OS === 'android') {\n      NativeAnimatedModule.startOperationBatch();\n    }\n\n    for (var q = 0, l = queue.length; q < l; q++) {\n      queue[q]();\n    }\n\n    queue.length = 0;\n\n    if (Platform.OS === 'android') {\n      NativeAnimatedModule.finishOperationBatch();\n    }\n  },\n  queueOperation: function queueOperation(fn) {\n    if (queueOperations) {\n      queue.push(fn);\n    } else {\n      fn();\n    }\n  },\n  createAnimatedNode: function createAnimatedNode(tag, config) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.createAnimatedNode(tag, config);\n    });\n  },\n  startListeningToAnimatedNodeValue: function startListeningToAnimatedNodeValue(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.startListeningToAnimatedNodeValue(tag);\n    });\n  },\n  stopListeningToAnimatedNodeValue: function stopListeningToAnimatedNodeValue(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.stopListeningToAnimatedNodeValue(tag);\n    });\n  },\n  connectAnimatedNodes: function connectAnimatedNodes(parentTag, childTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.connectAnimatedNodes(parentTag, childTag);\n    });\n  },\n  disconnectAnimatedNodes: function disconnectAnimatedNodes(parentTag, childTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.disconnectAnimatedNodes(parentTag, childTag);\n    });\n  },\n  startAnimatingNode: function startAnimatingNode(animationId, nodeTag, config, endCallback) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.startAnimatingNode(animationId, nodeTag, config, endCallback);\n    });\n  },\n  stopAnimation: function stopAnimation(animationId) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.stopAnimation(animationId);\n    });\n  },\n  setAnimatedNodeValue: function setAnimatedNodeValue(nodeTag, value) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.setAnimatedNodeValue(nodeTag, value);\n    });\n  },\n  setAnimatedNodeOffset: function setAnimatedNodeOffset(nodeTag, offset) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.setAnimatedNodeOffset(nodeTag, offset);\n    });\n  },\n  flattenAnimatedNodeOffset: function flattenAnimatedNodeOffset(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.flattenAnimatedNodeOffset(nodeTag);\n    });\n  },\n  extractAnimatedNodeOffset: function extractAnimatedNodeOffset(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.extractAnimatedNodeOffset(nodeTag);\n    });\n  },\n  connectAnimatedNodeToView: function connectAnimatedNodeToView(nodeTag, viewTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.connectAnimatedNodeToView(nodeTag, viewTag);\n    });\n  },\n  disconnectAnimatedNodeFromView: function disconnectAnimatedNodeFromView(nodeTag, viewTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.disconnectAnimatedNodeFromView(nodeTag, viewTag);\n    });\n  },\n  restoreDefaultValues: function restoreDefaultValues(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n\n    if (NativeAnimatedModule.restoreDefaultValues != null) {\n      API.queueOperation(function () {\n        return NativeAnimatedModule.restoreDefaultValues(nodeTag);\n      });\n    }\n  },\n  dropAnimatedNode: function dropAnimatedNode(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.dropAnimatedNode(tag);\n    });\n  },\n  addAnimatedEventToView: function addAnimatedEventToView(viewTag, eventName, eventMapping) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.addAnimatedEventToView(viewTag, eventName, eventMapping);\n    });\n  },\n  removeAnimatedEventFromView: function removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag);\n    });\n  }\n};\nvar SUPPORTED_STYLES = {\n  opacity: true,\n  transform: true,\n  borderRadius: true,\n  borderBottomEndRadius: true,\n  borderBottomLeftRadius: true,\n  borderBottomRightRadius: true,\n  borderBottomStartRadius: true,\n  borderTopEndRadius: true,\n  borderTopLeftRadius: true,\n  borderTopRightRadius: true,\n  borderTopStartRadius: true,\n  elevation: true,\n  zIndex: true,\n  shadowOpacity: true,\n  shadowRadius: true,\n  scaleX: true,\n  scaleY: true,\n  translateX: true,\n  translateY: true\n};\nvar SUPPORTED_TRANSFORMS = {\n  translateX: true,\n  translateY: true,\n  scale: true,\n  scaleX: true,\n  scaleY: true,\n  rotate: true,\n  rotateX: true,\n  rotateY: true,\n  rotateZ: true,\n  perspective: true\n};\nvar SUPPORTED_INTERPOLATION_PARAMS = {\n  inputRange: true,\n  outputRange: true,\n  extrapolate: true,\n  extrapolateRight: true,\n  extrapolateLeft: true\n};\n\nfunction addWhitelistedStyleProp(prop) {\n  SUPPORTED_STYLES[prop] = true;\n}\n\nfunction addWhitelistedTransformProp(prop) {\n  SUPPORTED_TRANSFORMS[prop] = true;\n}\n\nfunction addWhitelistedInterpolationParam(param) {\n  SUPPORTED_INTERPOLATION_PARAMS[param] = true;\n}\n\nfunction validateTransform(configs) {\n  configs.forEach(function (config) {\n    if (!SUPPORTED_TRANSFORMS.hasOwnProperty(config.property)) {\n      throw new Error(\"Property '\" + config.property + \"' is not supported by native animated module\");\n    }\n  });\n}\n\nfunction validateStyles(styles) {\n  for (var _key in styles) {\n    if (!SUPPORTED_STYLES.hasOwnProperty(_key)) {\n      throw new Error(\"Style property '\" + _key + \"' is not supported by native animated module\");\n    }\n  }\n}\n\nfunction validateInterpolation(config) {\n  for (var _key2 in config) {\n    if (!SUPPORTED_INTERPOLATION_PARAMS.hasOwnProperty(_key2)) {\n      throw new Error(\"Interpolation property '\" + _key2 + \"' is not supported by native animated module\");\n    }\n  }\n}\n\nfunction generateNewNodeTag() {\n  return __nativeAnimatedNodeTagCount++;\n}\n\nexport function generateNewAnimationId() {\n  return __nativeAnimationIdCount++;\n}\n\nfunction assertNativeAnimatedModule() {\n  invariant(NativeAnimatedModule, 'Native animated module is not available');\n}\n\nvar _warnedMissingNativeAnimated = false;\nexport function shouldUseNativeDriver(config) {\n  if (config.useNativeDriver == null) {\n    console.warn('Animated: `useNativeDriver` was not specified. This is a required ' + 'option and must be explicitly set to `true` or `false`');\n  }\n\n  if (config.useNativeDriver === true && !NativeAnimatedModule) {\n    if (!_warnedMissingNativeAnimated) {\n      console.warn('Animated: `useNativeDriver` is not supported because the native ' + 'animated module is missing. Falling back to JS-based animation. To ' + 'resolve this, add `RCTAnimation` module to this app, or remove ' + '`useNativeDriver`. ' + 'Make sure to run `pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md');\n      _warnedMissingNativeAnimated = true;\n    }\n\n    return false;\n  }\n\n  return config.useNativeDriver || false;\n}\n\nfunction transformDataType(value) {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  if (/deg$/.test(value)) {\n    var degrees = parseFloat(value) || 0;\n    var radians = degrees * Math.PI / 180.0;\n    return radians;\n  } else {\n    return value;\n  }\n}\n\nexport default {\n  API: API,\n  addWhitelistedStyleProp: addWhitelistedStyleProp,\n  addWhitelistedTransformProp: addWhitelistedTransformProp,\n  addWhitelistedInterpolationParam: addWhitelistedInterpolationParam,\n  validateStyles: validateStyles,\n  validateTransform: validateTransform,\n  validateInterpolation: validateInterpolation,\n  generateNewNodeTag: generateNewNodeTag,\n  generateNewAnimationId: generateNewAnimationId,\n  assertNativeAnimatedModule: assertNativeAnimatedModule,\n  shouldUseNativeDriver: shouldUseNativeDriver,\n  transformDataType: transformDataType,\n\n  get nativeEventEmitter() {\n    if (!nativeEventEmitter) {\n      nativeEventEmitter = new NativeEventEmitter(NativeAnimatedModule);\n    }\n\n    return nativeEventEmitter;\n  }\n\n};","map":{"version":3,"sources":["/media/disk1/projects/depub.space/node_modules/react-native-web/dist/vendor/react-native/Animated/NativeAnimatedHelper.js"],"names":["NativeAnimatedModule","Platform","global","__nativeAnimatedNodeTagCount","__nativeAnimationIdCount","waitingForQueuedOperations","queueOperations","queue","API","getValue","invariant","setWaitingForIdentifier","unsetWaitingForIdentifier","disableQueue","q","l","queueOperation","fn","createAnimatedNode","startListeningToAnimatedNodeValue","stopListeningToAnimatedNodeValue","connectAnimatedNodes","disconnectAnimatedNodes","startAnimatingNode","stopAnimation","setAnimatedNodeValue","setAnimatedNodeOffset","flattenAnimatedNodeOffset","extractAnimatedNodeOffset","connectAnimatedNodeToView","disconnectAnimatedNodeFromView","restoreDefaultValues","dropAnimatedNode","addAnimatedEventToView","removeAnimatedEventFromView","SUPPORTED_STYLES","opacity","transform","borderRadius","borderBottomEndRadius","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStartRadius","borderTopEndRadius","borderTopLeftRadius","borderTopRightRadius","borderTopStartRadius","elevation","zIndex","shadowOpacity","shadowRadius","scaleX","scaleY","translateX","translateY","SUPPORTED_TRANSFORMS","scale","rotate","rotateX","rotateY","rotateZ","perspective","SUPPORTED_INTERPOLATION_PARAMS","inputRange","outputRange","extrapolate","extrapolateRight","extrapolateLeft","configs","config","_warnedMissingNativeAnimated","console","degrees","parseFloat","radians","Math","addWhitelistedStyleProp","addWhitelistedTransformProp","addWhitelistedInterpolationParam","validateStyles","validateTransform","validateInterpolation","generateNewNodeTag","generateNewAnimationId","assertNativeAnimatedModule","shouldUseNativeDriver","transformDataType","nativeEventEmitter"],"mappings":"AASA,OAAA,4BAAA;AACA,OAAA,yBAAA;AACA,OAAA,kBAAA;AACA,OAAA,QAAA;AACA,OAAA,SAAA,MAAA,oBAAA;AAEA,IAAIA,oBAAoB,GAAGC,QAAQ,CAARA,EAAAA,KAAAA,KAAAA,IAAyBC,MAAM,CAA/BD,aAAAA,GAAAA,yBAAAA,GAA3B,4BAAA;AACA,IAAIE,4BAA4B,GAAhC,CAAA;AAGA,IAAIC,wBAAwB,GAA5B,CAAA;AAGA,IAAA,kBAAA;AACA,IAAIC,0BAA0B,GAAG,IAAjC,GAAiC,EAAjC;AACA,IAAIC,eAAe,GAAnB,KAAA;AACA,IAAIC,KAAK,GAAT,EAAA;AAMA,IAAIC,GAAG,GAAG;AACRC,EAAAA,QAAQ,EAAE,SAAA,QAAA,CAAA,GAAA,EAAA,iBAAA,EAA0C;AAClDC,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;;AAEA,QAAIV,oBAAoB,CAAxB,QAAA,EAAmC;AACjCA,MAAAA,oBAAoB,CAApBA,QAAAA,CAAAA,GAAAA,EAAAA,iBAAAA;AAEH;AAPO,GAAA;AAQRW,EAAAA,uBAAuB,EAAE,SAAA,uBAAA,CAAA,EAAA,EAAqC;AAC5DN,IAAAA,0BAA0B,CAA1BA,GAAAA,CAAAA,EAAAA;AACAC,IAAAA,eAAe,GAAfA,IAAAA;AAVM,GAAA;AAYRM,EAAAA,yBAAyB,EAAE,SAAA,yBAAA,CAAA,EAAA,EAAuC;AAChEP,IAAAA,0BAAAA,UAAAA,CAAAA,EAAAA;;AAEA,QAAIA,0BAA0B,CAA1BA,IAAAA,KAAJ,CAAA,EAA2C;AACzCC,MAAAA,eAAe,GAAfA,KAAAA;AACAE,MAAAA,GAAG,CAAHA,YAAAA;AAEH;AAnBO,GAAA;AAoBRK,EAAAA,YAAY,EAAE,SAAA,YAAA,GAAwB;AACpCH,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;;AAEA,QAAIT,QAAQ,CAARA,EAAAA,KAAJ,SAAA,EAA+B;AAC7BD,MAAAA,oBAAoB,CAApBA,mBAAAA;AAGF;;AAAA,SAAK,IAAIc,CAAC,GAAL,CAAA,EAAWC,CAAC,GAAGR,KAAK,CAAzB,MAAA,EAAkCO,CAAC,GAAnC,CAAA,EAAyCA,CAAzC,EAAA,EAA8C;AAC5CP,MAAAA,KAAK,CAALA,CAAK,CAALA;AAGFA;;AAAAA,IAAAA,KAAK,CAALA,MAAAA,GAAAA,CAAAA;;AAEA,QAAIN,QAAQ,CAARA,EAAAA,KAAJ,SAAA,EAA+B;AAC7BD,MAAAA,oBAAoB,CAApBA,oBAAAA;AAEH;AApCO,GAAA;AAqCRgB,EAAAA,cAAc,EAAE,SAAA,cAAA,CAAA,EAAA,EAA4B;AAC1C,QAAA,eAAA,EAAqB;AACnBT,MAAAA,KAAK,CAALA,IAAAA,CAAAA,EAAAA;AADF,KAAA,MAEO;AACLU,MAAAA,EAAE;AAEL;AA3CO,GAAA;AA4CRC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,CAAA,GAAA,EAAA,MAAA,EAAyC;AAC3DR,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,kBAAAA,CAAAA,GAAAA,EAAP,MAAOA,CAAP;AADFQ,KAAAA;AA9CM,GAAA;AAkDRW,EAAAA,iCAAiC,EAAE,SAAA,iCAAA,CAAA,GAAA,EAAgD;AACjFT,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,iCAAAA,CAAP,GAAOA,CAAP;AADFQ,KAAAA;AApDM,GAAA;AAwDRY,EAAAA,gCAAgC,EAAE,SAAA,gCAAA,CAAA,GAAA,EAA+C;AAC/EV,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,gCAAAA,CAAP,GAAOA,CAAP;AADFQ,KAAAA;AA1DM,GAAA;AA8DRa,EAAAA,oBAAoB,EAAE,SAAA,oBAAA,CAAA,SAAA,EAAA,QAAA,EAAmD;AACvEX,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,oBAAAA,CAAAA,SAAAA,EAAP,QAAOA,CAAP;AADFQ,KAAAA;AAhEM,GAAA;AAoERc,EAAAA,uBAAuB,EAAE,SAAA,uBAAA,CAAA,SAAA,EAAA,QAAA,EAAsD;AAC7EZ,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,uBAAAA,CAAAA,SAAAA,EAAP,QAAOA,CAAP;AADFQ,KAAAA;AAtEM,GAAA;AA0ERe,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,CAAA,WAAA,EAAA,OAAA,EAAA,MAAA,EAAA,WAAA,EAAuE;AACzFb,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,kBAAAA,CAAAA,WAAAA,EAAAA,OAAAA,EAAAA,MAAAA,EAAP,WAAOA,CAAP;AADFQ,KAAAA;AA5EM,GAAA;AAgFRgB,EAAAA,aAAa,EAAE,SAAA,aAAA,CAAA,WAAA,EAAoC;AACjDd,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,aAAAA,CAAP,WAAOA,CAAP;AADFQ,KAAAA;AAlFM,GAAA;AAsFRiB,EAAAA,oBAAoB,EAAE,SAAA,oBAAA,CAAA,OAAA,EAAA,KAAA,EAA8C;AAClEf,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,oBAAAA,CAAAA,OAAAA,EAAP,KAAOA,CAAP;AADFQ,KAAAA;AAxFM,GAAA;AA4FRkB,EAAAA,qBAAqB,EAAE,SAAA,qBAAA,CAAA,OAAA,EAAA,MAAA,EAAgD;AACrEhB,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,qBAAAA,CAAAA,OAAAA,EAAP,MAAOA,CAAP;AADFQ,KAAAA;AA9FM,GAAA;AAkGRmB,EAAAA,yBAAyB,EAAE,SAAA,yBAAA,CAAA,OAAA,EAA4C;AACrEjB,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,yBAAAA,CAAP,OAAOA,CAAP;AADFQ,KAAAA;AApGM,GAAA;AAwGRoB,EAAAA,yBAAyB,EAAE,SAAA,yBAAA,CAAA,OAAA,EAA4C;AACrElB,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,yBAAAA,CAAP,OAAOA,CAAP;AADFQ,KAAAA;AA1GM,GAAA;AA8GRqB,EAAAA,yBAAyB,EAAE,SAAA,yBAAA,CAAA,OAAA,EAAA,OAAA,EAAqD;AAC9EnB,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,yBAAAA,CAAAA,OAAAA,EAAP,OAAOA,CAAP;AADFQ,KAAAA;AAhHM,GAAA;AAoHRsB,EAAAA,8BAA8B,EAAE,SAAA,8BAAA,CAAA,OAAA,EAAA,OAAA,EAA0D;AACxFpB,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,8BAAAA,CAAAA,OAAAA,EAAP,OAAOA,CAAP;AADFQ,KAAAA;AAtHM,GAAA;AA0HRuB,EAAAA,oBAAoB,EAAE,SAAA,oBAAA,CAAA,OAAA,EAAuC;AAC3DrB,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;;AAEA,QAAIV,oBAAoB,CAApBA,oBAAAA,IAAJ,IAAA,EAAuD;AACrDQ,MAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,eAAOR,oBAAoB,CAApBA,oBAAAA,CAAP,OAAOA,CAAP;AADFQ,OAAAA;AAIH;AAlIO,GAAA;AAmIRwB,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,CAAA,GAAA,EAA+B;AAC/CtB,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,gBAAAA,CAAP,GAAOA,CAAP;AADFQ,KAAAA;AArIM,GAAA;AAyIRyB,EAAAA,sBAAsB,EAAE,SAAA,sBAAA,CAAA,OAAA,EAAA,SAAA,EAAA,YAAA,EAAkE;AACxFvB,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,sBAAAA,CAAAA,OAAAA,EAAAA,SAAAA,EAAP,YAAOA,CAAP;AADFQ,KAAAA;AA3IM,GAAA;AA+IR0B,EAAAA,2BAA2B,EAAE,SAAA,2BAAA,CAAA,OAAA,EAAA,SAAA,EAAA,eAAA,EAA0E;AACrGxB,IAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AACAF,IAAAA,GAAG,CAAHA,cAAAA,CAAmB,YAAY;AAC7B,aAAOR,oBAAoB,CAApBA,2BAAAA,CAAAA,OAAAA,EAAAA,SAAAA,EAAP,eAAOA,CAAP;AADFQ,KAAAA;AAjJJ;AAAU,CAAV;AA6JA,IAAI2B,gBAAgB,GAAG;AACrBC,EAAAA,OAAO,EADc,IAAA;AAErBC,EAAAA,SAAS,EAFY,IAAA;AAGrBC,EAAAA,YAAY,EAHS,IAAA;AAIrBC,EAAAA,qBAAqB,EAJA,IAAA;AAKrBC,EAAAA,sBAAsB,EALD,IAAA;AAMrBC,EAAAA,uBAAuB,EANF,IAAA;AAOrBC,EAAAA,uBAAuB,EAPF,IAAA;AAQrBC,EAAAA,kBAAkB,EARG,IAAA;AASrBC,EAAAA,mBAAmB,EATE,IAAA;AAUrBC,EAAAA,oBAAoB,EAVC,IAAA;AAWrBC,EAAAA,oBAAoB,EAXC,IAAA;AAYrBC,EAAAA,SAAS,EAZY,IAAA;AAarBC,EAAAA,MAAM,EAbe,IAAA;AAgBrBC,EAAAA,aAAa,EAhBQ,IAAA;AAiBrBC,EAAAA,YAAY,EAjBS,IAAA;AAoBrBC,EAAAA,MAAM,EApBe,IAAA;AAqBrBC,EAAAA,MAAM,EArBe,IAAA;AAsBrBC,EAAAA,UAAU,EAtBW,IAAA;AAuBrBC,EAAAA,UAAU,EAvBZ;AAAuB,CAAvB;AAyBA,IAAIC,oBAAoB,GAAG;AACzBF,EAAAA,UAAU,EADe,IAAA;AAEzBC,EAAAA,UAAU,EAFe,IAAA;AAGzBE,EAAAA,KAAK,EAHoB,IAAA;AAIzBL,EAAAA,MAAM,EAJmB,IAAA;AAKzBC,EAAAA,MAAM,EALmB,IAAA;AAMzBK,EAAAA,MAAM,EANmB,IAAA;AAOzBC,EAAAA,OAAO,EAPkB,IAAA;AAQzBC,EAAAA,OAAO,EARkB,IAAA;AASzBC,EAAAA,OAAO,EATkB,IAAA;AAUzBC,EAAAA,WAAW,EAVb;AAA2B,CAA3B;AAYA,IAAIC,8BAA8B,GAAG;AACnCC,EAAAA,UAAU,EADyB,IAAA;AAEnCC,EAAAA,WAAW,EAFwB,IAAA;AAGnCC,EAAAA,WAAW,EAHwB,IAAA;AAInCC,EAAAA,gBAAgB,EAJmB,IAAA;AAKnCC,EAAAA,eAAe,EALjB;AAAqC,CAArC;;AAQA,SAAA,uBAAA,CAAA,IAAA,EAAuC;AACrChC,EAAAA,gBAAgB,CAAhBA,IAAgB,CAAhBA,GAAAA,IAAAA;AAGF;;AAAA,SAAA,2BAAA,CAAA,IAAA,EAA2C;AACzCoB,EAAAA,oBAAoB,CAApBA,IAAoB,CAApBA,GAAAA,IAAAA;AAGF;;AAAA,SAAA,gCAAA,CAAA,KAAA,EAAiD;AAC/CO,EAAAA,8BAA8B,CAA9BA,KAA8B,CAA9BA,GAAAA,IAAAA;AAGF;;AAAA,SAAA,iBAAA,CAAA,OAAA,EAAoC;AAClCM,EAAAA,OAAO,CAAPA,OAAAA,CAAgB,UAAA,MAAA,EAAkB;AAChC,QAAI,CAACb,oBAAoB,CAApBA,cAAAA,CAAoCc,MAAM,CAA/C,QAAKd,CAAL,EAA2D;AACzD,YAAM,IAAA,KAAA,CAAU,eAAec,MAAM,CAArB,QAAA,GAAhB,8CAAM,CAAN;AAEH;AAJDD,GAAAA;AAOF;;AAAA,SAAA,cAAA,CAAA,MAAA,EAAgC;AAC9B,OAAK,IAAL,IAAA,IAAA,MAAA,EAAyB;AACvB,QAAI,CAACjC,gBAAgB,CAAhBA,cAAAA,CAAL,IAAKA,CAAL,EAA4C;AAC1C,YAAM,IAAA,KAAA,CAAU,qBAAA,IAAA,GAAhB,8CAAM,CAAN;AAEH;AACF;AAED;;AAAA,SAAA,qBAAA,CAAA,MAAA,EAAuC;AACrC,OAAK,IAAL,KAAA,IAAA,MAAA,EAA0B;AACxB,QAAI,CAAC2B,8BAA8B,CAA9BA,cAAAA,CAAL,KAAKA,CAAL,EAA2D;AACzD,YAAM,IAAA,KAAA,CAAU,6BAAA,KAAA,GAAhB,8CAAM,CAAN;AAEH;AACF;AAED;;AAAA,SAAA,kBAAA,GAA8B;AAC5B,SAAO3D,4BAAP,EAAA;AAGF;;AAAA,OAAO,SAAA,sBAAA,GAAkC;AACvC,SAAOC,wBAAP,EAAA;AAGF;;AAAA,SAAA,0BAAA,GAAsC;AACpCM,EAAAA,SAAS,CAAA,oBAAA,EAATA,yCAAS,CAATA;AAGF;;AAAA,IAAI4D,4BAA4B,GAAhC,KAAA;AACA,OAAO,SAAA,qBAAA,CAAA,MAAA,EAAuC;AAC5C,MAAID,MAAM,CAANA,eAAAA,IAAJ,IAAA,EAAoC;AAClCE,IAAAA,OAAO,CAAPA,IAAAA,CAAa,uEAAbA,wDAAAA;AAGF;;AAAA,MAAIF,MAAM,CAANA,eAAAA,KAAAA,IAAAA,IAAmC,CAAvC,oBAAA,EAA8D;AAC5D,QAAI,CAAJ,4BAAA,EAAmC;AACjCE,MAAAA,OAAO,CAAPA,IAAAA,CAAa,qEAAA,qEAAA,GAAA,iEAAA,GAAA,qBAAA,GAAbA,kJAAAA;AACAD,MAAAA,4BAA4B,GAA5BA,IAAAA;AAGF;;AAAA,WAAA,KAAA;AAGF;;AAAA,SAAOD,MAAM,CAANA,eAAAA,IAAP,KAAA;AAGF;;AAAA,SAAA,iBAAA,CAAA,KAAA,EAAkC;AAGhC,MAAI,OAAA,KAAA,KAAJ,QAAA,EAA+B;AAC7B,WAAA,KAAA;AAGF;;AAAA,MAAI,OAAA,IAAA,CAAJ,KAAI,CAAJ,EAAwB;AACtB,QAAIG,OAAO,GAAGC,UAAU,CAAVA,KAAU,CAAVA,IAAd,CAAA;AACA,QAAIC,OAAO,GAAGF,OAAO,GAAGG,IAAI,CAAdH,EAAAA,GAAd,KAAA;AACA,WAAA,OAAA;AAHF,GAAA,MAIO;AACL,WAAA,KAAA;AAEH;AAED;;AAAA,eAAe;AACbhE,EAAAA,GAAG,EADU,GAAA;AAEboE,EAAAA,uBAAuB,EAFV,uBAAA;AAGbC,EAAAA,2BAA2B,EAHd,2BAAA;AAIbC,EAAAA,gCAAgC,EAJnB,gCAAA;AAKbC,EAAAA,cAAc,EALD,cAAA;AAMbC,EAAAA,iBAAiB,EANJ,iBAAA;AAObC,EAAAA,qBAAqB,EAPR,qBAAA;AAQbC,EAAAA,kBAAkB,EARL,kBAAA;AASbC,EAAAA,sBAAsB,EATT,sBAAA;AAUbC,EAAAA,0BAA0B,EAVb,0BAAA;AAWbC,EAAAA,qBAAqB,EAXR,qBAAA;AAYbC,EAAAA,iBAAiB,EAZJ,iBAAA;;AAeb,MAAA,kBAAA,GAAyB;AACvB,QAAI,CAAJ,kBAAA,EAAyB;AACvBC,MAAAA,kBAAkB,GAAG,IAAA,kBAAA,CAArBA,oBAAqB,CAArBA;AAGF;;AAAA,WAAA,kBAAA;AApBJ;;AAAe,CAAf","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\nimport NativeAnimatedNonTurboModule from './NativeAnimatedModule';\nimport NativeAnimatedTurboModule from './NativeAnimatedTurboModule';\nimport NativeEventEmitter from '../NativeEventEmitter';\nimport Platform from '../../../exports/Platform';\nimport invariant from 'fbjs/lib/invariant'; // TODO T69437152 @petetheheat - Delete this fork when Fabric ships to 100%.\n\nvar NativeAnimatedModule = Platform.OS === 'ios' && global.RN$Bridgeless ? NativeAnimatedTurboModule : NativeAnimatedNonTurboModule;\nvar __nativeAnimatedNodeTagCount = 1;\n/* used for animated nodes */\n\nvar __nativeAnimationIdCount = 1;\n/* used for started animations */\n\nvar nativeEventEmitter;\nvar waitingForQueuedOperations = new Set();\nvar queueOperations = false;\nvar queue = [];\n/**\n * Simple wrappers around NativeAnimatedModule to provide flow and autocomplete support for\n * the native module methods\n */\n\nvar API = {\n  getValue: function getValue(tag, saveValueCallback) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n\n    if (NativeAnimatedModule.getValue) {\n      NativeAnimatedModule.getValue(tag, saveValueCallback);\n    }\n  },\n  setWaitingForIdentifier: function setWaitingForIdentifier(id) {\n    waitingForQueuedOperations.add(id);\n    queueOperations = true;\n  },\n  unsetWaitingForIdentifier: function unsetWaitingForIdentifier(id) {\n    waitingForQueuedOperations.delete(id);\n\n    if (waitingForQueuedOperations.size === 0) {\n      queueOperations = false;\n      API.disableQueue();\n    }\n  },\n  disableQueue: function disableQueue() {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n\n    if (Platform.OS === 'android') {\n      NativeAnimatedModule.startOperationBatch();\n    }\n\n    for (var q = 0, l = queue.length; q < l; q++) {\n      queue[q]();\n    }\n\n    queue.length = 0;\n\n    if (Platform.OS === 'android') {\n      NativeAnimatedModule.finishOperationBatch();\n    }\n  },\n  queueOperation: function queueOperation(fn) {\n    if (queueOperations) {\n      queue.push(fn);\n    } else {\n      fn();\n    }\n  },\n  createAnimatedNode: function createAnimatedNode(tag, config) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.createAnimatedNode(tag, config);\n    });\n  },\n  startListeningToAnimatedNodeValue: function startListeningToAnimatedNodeValue(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.startListeningToAnimatedNodeValue(tag);\n    });\n  },\n  stopListeningToAnimatedNodeValue: function stopListeningToAnimatedNodeValue(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.stopListeningToAnimatedNodeValue(tag);\n    });\n  },\n  connectAnimatedNodes: function connectAnimatedNodes(parentTag, childTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.connectAnimatedNodes(parentTag, childTag);\n    });\n  },\n  disconnectAnimatedNodes: function disconnectAnimatedNodes(parentTag, childTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.disconnectAnimatedNodes(parentTag, childTag);\n    });\n  },\n  startAnimatingNode: function startAnimatingNode(animationId, nodeTag, config, endCallback) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.startAnimatingNode(animationId, nodeTag, config, endCallback);\n    });\n  },\n  stopAnimation: function stopAnimation(animationId) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.stopAnimation(animationId);\n    });\n  },\n  setAnimatedNodeValue: function setAnimatedNodeValue(nodeTag, value) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.setAnimatedNodeValue(nodeTag, value);\n    });\n  },\n  setAnimatedNodeOffset: function setAnimatedNodeOffset(nodeTag, offset) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.setAnimatedNodeOffset(nodeTag, offset);\n    });\n  },\n  flattenAnimatedNodeOffset: function flattenAnimatedNodeOffset(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.flattenAnimatedNodeOffset(nodeTag);\n    });\n  },\n  extractAnimatedNodeOffset: function extractAnimatedNodeOffset(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.extractAnimatedNodeOffset(nodeTag);\n    });\n  },\n  connectAnimatedNodeToView: function connectAnimatedNodeToView(nodeTag, viewTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.connectAnimatedNodeToView(nodeTag, viewTag);\n    });\n  },\n  disconnectAnimatedNodeFromView: function disconnectAnimatedNodeFromView(nodeTag, viewTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.disconnectAnimatedNodeFromView(nodeTag, viewTag);\n    });\n  },\n  restoreDefaultValues: function restoreDefaultValues(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available'); // Backwards compat with older native runtimes, can be removed later.\n\n    if (NativeAnimatedModule.restoreDefaultValues != null) {\n      API.queueOperation(function () {\n        return NativeAnimatedModule.restoreDefaultValues(nodeTag);\n      });\n    }\n  },\n  dropAnimatedNode: function dropAnimatedNode(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.dropAnimatedNode(tag);\n    });\n  },\n  addAnimatedEventToView: function addAnimatedEventToView(viewTag, eventName, eventMapping) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.addAnimatedEventToView(viewTag, eventName, eventMapping);\n    });\n  },\n  removeAnimatedEventFromView: function removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag);\n    });\n  }\n};\n/**\n * Styles allowed by the native animated implementation.\n *\n * In general native animated implementation should support any numeric property that doesn't need\n * to be updated through the shadow view hierarchy (all non-layout properties).\n */\n\nvar SUPPORTED_STYLES = {\n  opacity: true,\n  transform: true,\n  borderRadius: true,\n  borderBottomEndRadius: true,\n  borderBottomLeftRadius: true,\n  borderBottomRightRadius: true,\n  borderBottomStartRadius: true,\n  borderTopEndRadius: true,\n  borderTopLeftRadius: true,\n  borderTopRightRadius: true,\n  borderTopStartRadius: true,\n  elevation: true,\n  zIndex: true,\n\n  /* ios styles */\n  shadowOpacity: true,\n  shadowRadius: true,\n\n  /* legacy android transform properties */\n  scaleX: true,\n  scaleY: true,\n  translateX: true,\n  translateY: true\n};\nvar SUPPORTED_TRANSFORMS = {\n  translateX: true,\n  translateY: true,\n  scale: true,\n  scaleX: true,\n  scaleY: true,\n  rotate: true,\n  rotateX: true,\n  rotateY: true,\n  rotateZ: true,\n  perspective: true\n};\nvar SUPPORTED_INTERPOLATION_PARAMS = {\n  inputRange: true,\n  outputRange: true,\n  extrapolate: true,\n  extrapolateRight: true,\n  extrapolateLeft: true\n};\n\nfunction addWhitelistedStyleProp(prop) {\n  SUPPORTED_STYLES[prop] = true;\n}\n\nfunction addWhitelistedTransformProp(prop) {\n  SUPPORTED_TRANSFORMS[prop] = true;\n}\n\nfunction addWhitelistedInterpolationParam(param) {\n  SUPPORTED_INTERPOLATION_PARAMS[param] = true;\n}\n\nfunction validateTransform(configs) {\n  configs.forEach(function (config) {\n    if (!SUPPORTED_TRANSFORMS.hasOwnProperty(config.property)) {\n      throw new Error(\"Property '\" + config.property + \"' is not supported by native animated module\");\n    }\n  });\n}\n\nfunction validateStyles(styles) {\n  for (var _key in styles) {\n    if (!SUPPORTED_STYLES.hasOwnProperty(_key)) {\n      throw new Error(\"Style property '\" + _key + \"' is not supported by native animated module\");\n    }\n  }\n}\n\nfunction validateInterpolation(config) {\n  for (var _key2 in config) {\n    if (!SUPPORTED_INTERPOLATION_PARAMS.hasOwnProperty(_key2)) {\n      throw new Error(\"Interpolation property '\" + _key2 + \"' is not supported by native animated module\");\n    }\n  }\n}\n\nfunction generateNewNodeTag() {\n  return __nativeAnimatedNodeTagCount++;\n}\n\nexport function generateNewAnimationId() {\n  return __nativeAnimationIdCount++;\n}\n\nfunction assertNativeAnimatedModule() {\n  invariant(NativeAnimatedModule, 'Native animated module is not available');\n}\n\nvar _warnedMissingNativeAnimated = false;\nexport function shouldUseNativeDriver(config) {\n  if (config.useNativeDriver == null) {\n    console.warn('Animated: `useNativeDriver` was not specified. This is a required ' + 'option and must be explicitly set to `true` or `false`');\n  }\n\n  if (config.useNativeDriver === true && !NativeAnimatedModule) {\n    if (!_warnedMissingNativeAnimated) {\n      console.warn('Animated: `useNativeDriver` is not supported because the native ' + 'animated module is missing. Falling back to JS-based animation. To ' + 'resolve this, add `RCTAnimation` module to this app, or remove ' + '`useNativeDriver`. ' + 'Make sure to run `pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md');\n      _warnedMissingNativeAnimated = true;\n    }\n\n    return false;\n  }\n\n  return config.useNativeDriver || false;\n}\n\nfunction transformDataType(value) {\n  // Change the string type to number type so we can reuse the same logic in\n  // iOS and Android platform\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  if (/deg$/.test(value)) {\n    var degrees = parseFloat(value) || 0;\n    var radians = degrees * Math.PI / 180.0;\n    return radians;\n  } else {\n    return value;\n  }\n}\n\nexport default {\n  API: API,\n  addWhitelistedStyleProp: addWhitelistedStyleProp,\n  addWhitelistedTransformProp: addWhitelistedTransformProp,\n  addWhitelistedInterpolationParam: addWhitelistedInterpolationParam,\n  validateStyles: validateStyles,\n  validateTransform: validateTransform,\n  validateInterpolation: validateInterpolation,\n  generateNewNodeTag: generateNewNodeTag,\n  generateNewAnimationId: generateNewAnimationId,\n  assertNativeAnimatedModule: assertNativeAnimatedModule,\n  shouldUseNativeDriver: shouldUseNativeDriver,\n  transformDataType: transformDataType,\n\n  // $FlowExpectedError - unsafe getter lint suppresion\n  get nativeEventEmitter() {\n    if (!nativeEventEmitter) {\n      nativeEventEmitter = new NativeEventEmitter(NativeAnimatedModule);\n    }\n\n    return nativeEventEmitter;\n  }\n\n};"]},"metadata":{},"sourceType":"module"}