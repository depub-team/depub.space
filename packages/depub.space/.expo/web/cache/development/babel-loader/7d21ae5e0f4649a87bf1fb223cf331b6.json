{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport createEventHandle from \"../createEventHandle\";\nimport useLayoutEffect from \"../useLayoutEffect\";\nimport useStable from \"../useStable\";\nexport default function useEvent(event, options) {\n  _s();\n\n  var targetListeners = useStable(function () {\n    return new Map();\n  });\n  var addListener = useStable(function () {\n    var addEventListener = createEventHandle(event, options);\n    return function (target, callback) {\n      var removeTargetListener = targetListeners.get(target);\n\n      if (removeTargetListener != null) {\n        removeTargetListener();\n      }\n\n      if (callback == null) {\n        targetListeners[\"delete\"](target);\n      }\n\n      var removeEventListener = addEventListener(target, callback);\n      targetListeners.set(target, removeEventListener);\n      return removeEventListener;\n    };\n  });\n  useLayoutEffect(function () {\n    return function () {\n      targetListeners.forEach(function (removeListener) {\n        removeListener();\n      });\n      targetListeners.clear();\n    };\n  }, []);\n  return addListener;\n}\n\n_s(useEvent, \"eol/U/7Cx2TSEd48hRTJSCqDRys=\", false, function () {\n  return [useStable, useStable];\n});\n\n;\n\nvar _a, _b;\n\nif (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n  var currentExports = module.__proto__.exports;\n  var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n  self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n\n  if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n    module.hot.dispose(function (data) {\n      data.prevExports = currentExports;\n    });\n    module.hot.accept();\n\n    if (prevExports !== null) {\n      if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n        module.hot.invalidate();\n      } else {\n        self.$RefreshHelpers$.scheduleUpdate();\n      }\n    }\n  } else {\n    var isNoLongerABoundary = prevExports !== null;\n\n    if (isNoLongerABoundary) {\n      module.hot.invalidate();\n    }\n  }\n}","map":{"version":3,"sources":["/media/disk1/projects/depub.space/node_modules/react-native-web/dist/modules/useEvent/index.js"],"names":["useEvent","targetListeners","useStable","addListener","addEventListener","createEventHandle","removeTargetListener","callback","removeEventListener","useLayoutEffect","removeListener"],"mappings":";;AAQA,OAAA,iBAAA;AACA,OAAA,eAAA;AACA,OAAA,SAAA;AAWA,eAAe,SAAA,QAAA,CAAA,KAAA,EAAA,OAAA,EAAkC;AAAA,EAAA,EAAA;;AAC/C,MAAIC,eAAe,GAAGC,SAAS,CAAC,YAAY;AAC1C,WAAO,IAAP,GAAO,EAAP;AADF,GAA+B,CAA/B;AAGA,MAAIC,WAAW,GAAGD,SAAS,CAAC,YAAY;AACtC,QAAIE,gBAAgB,GAAGC,iBAAiB,CAAA,KAAA,EAAxC,OAAwC,CAAxC;AACA,WAAO,UAAA,MAAA,EAAA,QAAA,EAA4B;AACjC,UAAIC,oBAAoB,GAAGL,eAAe,CAAfA,GAAAA,CAA3B,MAA2BA,CAA3B;;AAEA,UAAIK,oBAAoB,IAAxB,IAAA,EAAkC;AAChCA,QAAAA,oBAAoB;AAGtB;;AAAA,UAAIC,QAAQ,IAAZ,IAAA,EAAsB;AACpBN,QAAAA,eAAe,CAAfA,QAAe,CAAfA,CAAAA,MAAAA;AAGF;;AAAA,UAAIO,mBAAmB,GAAGJ,gBAAgB,CAAA,MAAA,EAA1C,QAA0C,CAA1C;AACAH,MAAAA,eAAe,CAAfA,GAAAA,CAAAA,MAAAA,EAAAA,mBAAAA;AACA,aAAA,mBAAA;AAbF,KAAA;AAFF,GAA2B,CAA3B;AAkBAQ,EAAAA,eAAe,CAAC,YAAY;AAC1B,WAAO,YAAY;AACjBR,MAAAA,eAAe,CAAfA,OAAAA,CAAwB,UAAA,cAAA,EAA0B;AAChDS,QAAAA,cAAc;AADhBT,OAAAA;AAGAA,MAAAA,eAAe,CAAfA,KAAAA;AAJF,KAAA;AADa,GAAA,EAAfQ,EAAe,CAAfA;AAQA,SAAA,WAAA;;;GA9BsBT,Q;UACAE,S,EAGJA,S","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport createEventHandle from '../createEventHandle';\nimport useLayoutEffect from '../useLayoutEffect';\nimport useStable from '../useStable';\n\n/**\n * This can be used with any event type include custom events.\n *\n * const click = useEvent('click', options);\n * useEffect(() => {\n *   click.setListener(target, onClick);\n *   return () => click.clear();\n * }).\n */\nexport default function useEvent(event, options) {\n  var targetListeners = useStable(function () {\n    return new Map();\n  });\n  var addListener = useStable(function () {\n    var addEventListener = createEventHandle(event, options);\n    return function (target, callback) {\n      var removeTargetListener = targetListeners.get(target);\n\n      if (removeTargetListener != null) {\n        removeTargetListener();\n      }\n\n      if (callback == null) {\n        targetListeners.delete(target);\n      }\n\n      var removeEventListener = addEventListener(target, callback);\n      targetListeners.set(target, removeEventListener);\n      return removeEventListener;\n    };\n  });\n  useLayoutEffect(function () {\n    return function () {\n      targetListeners.forEach(function (removeListener) {\n        removeListener();\n      });\n      targetListeners.clear();\n    };\n  }, []);\n  return addListener;\n}"]},"metadata":{},"sourceType":"module"}