{"ast":null,"code":"'use strict';\n\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\n\nvar emptyFunction = function emptyFunction() {};\n\nfunction supportsPassiveEvents() {\n  var supported = false;\n\n  if (canUseDOM) {\n    try {\n      var options = {};\n      Object.defineProperty(options, 'passive', {\n        get: function get() {\n          supported = true;\n          return false;\n        }\n      });\n      window.addEventListener('test', null, options);\n      window.removeEventListener('test', null, options);\n    } catch (e) {}\n  }\n\n  return supported;\n}\n\nvar canUsePassiveEvents = supportsPassiveEvents();\n\nfunction getOptions(options) {\n  if (options == null) {\n    return false;\n  }\n\n  return canUsePassiveEvents ? options : Boolean(options.capture);\n}\n\nfunction isPropagationStopped() {\n  return this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n  return this.defaultPrevented;\n}\n\nfunction normalizeEvent(event) {\n  event.nativeEvent = event;\n  event.persist = emptyFunction;\n  event.isDefaultPrevented = isDefaultPrevented;\n  event.isPropagationStopped = isPropagationStopped;\n  return event;\n}\n\nexport default function createEventHandle(type, options) {\n  var opts = getOptions(options);\n  return function (target, listener) {\n    if (target == null || typeof target.addEventListener !== 'function') {\n      throw new Error('createEventHandle: called on an invalid target.');\n    }\n\n    var element = target;\n\n    if (listener != null) {\n      var compatListener = function compatListener(e) {\n        return listener(normalizeEvent(e));\n      };\n\n      element.addEventListener(type, compatListener, opts);\n      return function removeListener() {\n        if (element != null) {\n          element.removeEventListener(type, compatListener, opts);\n        }\n      };\n    } else {\n      return emptyFunction;\n    }\n  };\n}","map":{"version":3,"sources":["/media/disk1/projects/depub.space/node_modules/react-native-web/dist/modules/createEventHandle/index.js"],"names":["emptyFunction","supported","options","Object","get","window","canUsePassiveEvents","supportsPassiveEvents","Boolean","event","opts","getOptions","target","element","listener","compatListener","normalizeEvent"],"mappings":"AAQA;;AAEA,SAAA,SAAA,QAAA,+BAAA;;AAEA,IAAIA,aAAa,GAAG,SAAA,aAAA,GAAyB,CAA7C,CAAA;;AAEA,SAAA,qBAAA,GAAiC;AAC/B,MAAIC,SAAS,GAAb,KAAA;;AAGA,MAAA,SAAA,EAAe;AACb,QAAI;AACF,UAAIC,OAAO,GAAX,EAAA;AACAC,MAAAA,MAAM,CAANA,cAAAA,CAAAA,OAAAA,EAAAA,SAAAA,EAA0C;AACxCC,QAAAA,GAAG,EAAE,SAAA,GAAA,GAAe;AAClBH,UAAAA,SAAS,GAATA,IAAAA;AACA,iBAAA,KAAA;AAHJE;AAA0C,OAA1CA;AAMAE,MAAAA,MAAM,CAANA,gBAAAA,CAAAA,MAAAA,EAAAA,IAAAA,EAAAA,OAAAA;AACAA,MAAAA,MAAM,CAANA,mBAAAA,CAAAA,MAAAA,EAAAA,IAAAA,EAAAA,OAAAA;AACA,KAVF,CAUE,OAAA,CAAA,EAAU,CACb;AAED;;AAAA,SAAA,SAAA;AAGF;;AAAA,IAAIC,mBAAmB,GAAGC,qBAA1B,EAAA;;AAEA,SAAA,UAAA,CAAA,OAAA,EAA6B;AAC3B,MAAIL,OAAO,IAAX,IAAA,EAAqB;AACnB,WAAA,KAAA;AAGF;;AAAA,SAAOI,mBAAmB,GAAA,OAAA,GAAaE,OAAO,CAACN,OAAO,CAAtD,OAA8C,CAA9C;AASF;;AAAA,SAAA,oBAAA,GAAgC;AAC9B,SAAO,KAAP,YAAA;AAGF;;AAAA,SAAA,kBAAA,GAA8B;AAC5B,SAAO,KAAP,gBAAA;AAGF;;AAAA,SAAA,cAAA,CAAA,KAAA,EAA+B;AAC7BO,EAAAA,KAAK,CAALA,WAAAA,GAAAA,KAAAA;AACAA,EAAAA,KAAK,CAALA,OAAAA,GAAAA,aAAAA;AACAA,EAAAA,KAAK,CAALA,kBAAAA,GAAAA,kBAAAA;AACAA,EAAAA,KAAK,CAALA,oBAAAA,GAAAA,oBAAAA;AACA,SAAA,KAAA;AAOF;;AAAA,eAAe,SAAA,iBAAA,CAAA,IAAA,EAAA,OAAA,EAA0C;AACvD,MAAIC,IAAI,GAAGC,UAAU,CAArB,OAAqB,CAArB;AACA,SAAO,UAAA,MAAA,EAAA,QAAA,EAA4B;AACjC,QAAIC,MAAM,IAANA,IAAAA,IAAkB,OAAOA,MAAM,CAAb,gBAAA,KAAtB,UAAA,EAAqE;AACnE,YAAM,IAAA,KAAA,CAAN,iDAAM,CAAN;AAGF;;AAAA,QAAIC,OAAO,GAAX,MAAA;;AAEA,QAAIC,QAAQ,IAAZ,IAAA,EAAsB;AACpB,UAAIC,cAAc,GAAG,SAAA,cAAA,CAAA,CAAA,EAA2B;AAC9C,eAAOD,QAAQ,CAACE,cAAc,CAA9B,CAA8B,CAAf,CAAf;AADF,OAAA;;AAIAH,MAAAA,OAAO,CAAPA,gBAAAA,CAAAA,IAAAA,EAAAA,cAAAA,EAAAA,IAAAA;AACA,aAAO,SAAA,cAAA,GAA0B;AAC/B,YAAIA,OAAO,IAAX,IAAA,EAAqB;AACnBA,UAAAA,OAAO,CAAPA,mBAAAA,CAAAA,IAAAA,EAAAA,cAAAA,EAAAA,IAAAA;AAEH;AAJD,OAAA;AANF,KAAA,MAWO;AACL,aAAA,aAAA;AAEH;AArBD,GAAA;AAsBD","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n'use strict';\n\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\n\nvar emptyFunction = function emptyFunction() {};\n\nfunction supportsPassiveEvents() {\n  var supported = false; // Check if browser supports event with passive listeners\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n\n  if (canUseDOM) {\n    try {\n      var options = {};\n      Object.defineProperty(options, 'passive', {\n        get: function get() {\n          supported = true;\n          return false;\n        }\n      });\n      window.addEventListener('test', null, options);\n      window.removeEventListener('test', null, options);\n    } catch (e) {}\n  }\n\n  return supported;\n}\n\nvar canUsePassiveEvents = supportsPassiveEvents();\n\nfunction getOptions(options) {\n  if (options == null) {\n    return false;\n  }\n\n  return canUsePassiveEvents ? options : Boolean(options.capture);\n}\n/**\n * Shim generic API compatibility with ReactDOM's synthetic events, without needing the\n * large amount of code ReactDOM uses to do this. Ideally we wouldn't use a synthetic\n * event wrapper at all.\n */\n\n\nfunction isPropagationStopped() {\n  return this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n  return this.defaultPrevented;\n}\n\nfunction normalizeEvent(event) {\n  event.nativeEvent = event;\n  event.persist = emptyFunction;\n  event.isDefaultPrevented = isDefaultPrevented;\n  event.isPropagationStopped = isPropagationStopped;\n  return event;\n}\n/**\n *\n */\n\n\nexport default function createEventHandle(type, options) {\n  var opts = getOptions(options);\n  return function (target, listener) {\n    if (target == null || typeof target.addEventListener !== 'function') {\n      throw new Error('createEventHandle: called on an invalid target.');\n    }\n\n    var element = target;\n\n    if (listener != null) {\n      var compatListener = function compatListener(e) {\n        return listener(normalizeEvent(e));\n      };\n\n      element.addEventListener(type, compatListener, opts);\n      return function removeListener() {\n        if (element != null) {\n          element.removeEventListener(type, compatListener, opts);\n        }\n      };\n    } else {\n      return emptyFunction;\n    }\n  };\n}"]},"metadata":{},"sourceType":"module"}