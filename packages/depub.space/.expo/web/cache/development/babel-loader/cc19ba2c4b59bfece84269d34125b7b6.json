{"ast":null,"code":"'use strict';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport View from \"../../../exports/View\";\nimport { AnimatedEvent } from \"./AnimatedEvent\";\nimport AnimatedProps from \"./nodes/AnimatedProps\";\nimport * as React from 'react';\nimport NativeAnimatedHelper from \"./NativeAnimatedHelper\";\nimport invariant from 'fbjs/lib/invariant';\nimport setAndForwardRef from \"../Utilities/setAndForwardRef\";\nvar animatedComponentNextId = 1;\n\nfunction createAnimatedComponent(Component, options) {\n  invariant(typeof Component !== 'function' || Component.prototype && Component.prototype.isReactComponent, '`createAnimatedComponent` does not support stateless functional components; ' + 'use a class component instead.');\n\n  var AnimatedComponent = function (_React$Component) {\n    _inheritsLoose(AnimatedComponent, _React$Component);\n\n    function AnimatedComponent() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n      _this._invokeAnimatedPropsCallbackOnMount = false;\n      _this._eventDetachers = [];\n      _this._animatedComponentId = animatedComponentNextId++ + \":animatedComponent\";\n\n      _this._isFabric = function () {\n        var _this$_component$_int, _this$_component$_int2, _this$_component$getN, _this$_component$getN2, _this$_component$getS, _this$_component$getS2;\n\n        if (_this._component == null) {\n          return false;\n        }\n\n        return ((_this$_component$_int = _this._component['_internalInstanceHandle']) == null ? void 0 : (_this$_component$_int2 = _this$_component$_int.stateNode) == null ? void 0 : _this$_component$_int2.canonical) != null || _this._component.getNativeScrollRef != null && _this._component.getNativeScrollRef() != null && ((_this$_component$getN = _this._component.getNativeScrollRef()['_internalInstanceHandle']) == null ? void 0 : (_this$_component$getN2 = _this$_component$getN.stateNode) == null ? void 0 : _this$_component$getN2.canonical) != null || _this._component.getScrollResponder != null && _this._component.getScrollResponder() != null && _this._component.getScrollResponder().getNativeScrollRef != null && _this._component.getScrollResponder().getNativeScrollRef() != null && ((_this$_component$getS = _this._component.getScrollResponder().getNativeScrollRef()['_internalInstanceHandle']) == null ? void 0 : (_this$_component$getS2 = _this$_component$getS.stateNode) == null ? void 0 : _this$_component$getS2.canonical) != null;\n      };\n\n      _this._waitForUpdate = function () {\n        if (_this._isFabric()) {\n          NativeAnimatedHelper.API.setWaitingForIdentifier(_this._animatedComponentId);\n        }\n      };\n\n      _this._markUpdateComplete = function () {\n        if (_this._isFabric()) {\n          NativeAnimatedHelper.API.unsetWaitingForIdentifier(_this._animatedComponentId);\n        }\n      };\n\n      _this._animatedPropsCallback = function () {\n        if (_this._component == null) {\n          _this._invokeAnimatedPropsCallbackOnMount = true;\n        } else if (false || typeof _this._component.setNativeProps !== 'function' || _this._isFabric()) {\n          _this.forceUpdate();\n        } else if (!_this._propsAnimated.__isNative) {\n          _this._component.setNativeProps(_this._propsAnimated.__getAnimatedValue());\n        } else {\n          throw new Error('Attempting to run JS driven animation on animated ' + 'node that has been moved to \"native\" earlier by starting an ' + 'animation with `useNativeDriver: true`');\n        }\n      };\n\n      _this._setComponentRef = setAndForwardRef({\n        getForwardedRef: function getForwardedRef() {\n          return _this.props.forwardedRef;\n        },\n        setLocalRef: function setLocalRef(ref) {\n          _this._prevComponent = _this._component;\n          _this._component = ref;\n\n          if (ref != null && ref.getNode == null) {\n            ref.getNode = function () {\n              var _ref$constructor$name;\n\n              console.warn('%s: Calling `getNode()` on the ref of an Animated component ' + 'is no longer necessary. You can now directly use the ref ' + 'instead. This method will be removed in a future release.', (_ref$constructor$name = ref.constructor.name) !== null && _ref$constructor$name !== void 0 ? _ref$constructor$name : '<<anonymous>>');\n              return ref;\n            };\n          }\n        }\n      });\n      return _this;\n    }\n\n    var _proto = AnimatedComponent.prototype;\n\n    _proto._attachNativeEvents = function _attachNativeEvents() {\n      var _this$_component,\n          _this2 = this;\n\n      var scrollableNode = (_this$_component = this._component) != null && _this$_component.getScrollableNode ? this._component.getScrollableNode() : this._component;\n\n      var _loop = function _loop(key) {\n        var prop = _this2.props[key];\n\n        if (prop instanceof AnimatedEvent && prop.__isNative) {\n          prop.__attach(scrollableNode, key);\n\n          _this2._eventDetachers.push(function () {\n            return prop.__detach(scrollableNode, key);\n          });\n        }\n      };\n\n      for (var key in this.props) {\n        _loop(key);\n      }\n    };\n\n    _proto._detachNativeEvents = function _detachNativeEvents() {\n      this._eventDetachers.forEach(function (remove) {\n        return remove();\n      });\n\n      this._eventDetachers = [];\n    };\n\n    _proto._attachProps = function _attachProps(nextProps) {\n      var oldPropsAnimated = this._propsAnimated;\n\n      if (nextProps === oldPropsAnimated) {\n        return;\n      }\n\n      this._propsAnimated = new AnimatedProps(nextProps, this._animatedPropsCallback);\n\n      if (oldPropsAnimated) {\n        oldPropsAnimated.__restoreDefaultValues();\n\n        oldPropsAnimated.__detach();\n      }\n    };\n\n    _proto.render = function render() {\n      var _ref = this._propsAnimated.__getValue() || {},\n          _ref$style = _ref.style,\n          style = _ref$style === void 0 ? {} : _ref$style,\n          props = _objectWithoutPropertiesLoose(_ref, [\"style\"]);\n\n      var _ref2 = this.props.passthroughAnimatedPropExplicitValues || {},\n          _ref2$style = _ref2.style,\n          passthruStyle = _ref2$style === void 0 ? {} : _ref2$style,\n          passthruProps = _objectWithoutPropertiesLoose(_ref2, [\"style\"]);\n\n      var mergedStyle = _objectSpread(_objectSpread({}, style), passthruStyle);\n\n      return React.createElement(Component, _extends({}, props, passthruProps, {\n        style: mergedStyle,\n        ref: this._setComponentRef\n      }));\n    };\n\n    _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n      this._waitForUpdate();\n\n      this._attachProps(this.props);\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      if (this._invokeAnimatedPropsCallbackOnMount) {\n        this._invokeAnimatedPropsCallbackOnMount = false;\n\n        this._animatedPropsCallback();\n      }\n\n      this._propsAnimated.setNativeView(this._component);\n\n      this._attachNativeEvents();\n\n      this._markUpdateComplete();\n    };\n\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(newProps) {\n      this._waitForUpdate();\n\n      this._attachProps(newProps);\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n      if (this._component !== this._prevComponent) {\n        this._propsAnimated.setNativeView(this._component);\n      }\n\n      if (this._component !== this._prevComponent || prevProps !== this.props) {\n        this._detachNativeEvents();\n\n        this._attachNativeEvents();\n      }\n\n      this._markUpdateComplete();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this._propsAnimated && this._propsAnimated.__detach();\n\n      this._detachNativeEvents();\n\n      this._markUpdateComplete();\n\n      this._component = null;\n      this._prevComponent = null;\n    };\n\n    return AnimatedComponent;\n  }(React.Component);\n\n  return React.forwardRef(function AnimatedComponentWrapper(props, ref) {\n    return React.createElement(AnimatedComponent, _extends({}, props, ref == null ? null : {\n      forwardedRef: ref\n    }));\n  });\n}\n\nexport default createAnimatedComponent;","map":{"version":3,"sources":["/media/disk1/projects/depub.space/node_modules/react-native-web/dist/vendor/react-native/Animated/createAnimatedComponent.js"],"names":["_extends","Object","i","arguments","source","target","keys","symbols","ownKeys","_defineProperty","key","value","enumerable","configurable","writable","obj","sourceKeys","excluded","subClass","superClass","_setPrototypeOf","o","animatedComponentNextId","invariant","Component","AnimatedComponent","_inheritsLoose","_len","args","_key","_this","_React$Component","_this$_component$_int","_this$_component$_int2","_this$_component$getN","_this$_component$getN2","_this$_component$getS","_this$_component$getS2","NativeAnimatedHelper","setAndForwardRef","getForwardedRef","setLocalRef","ref","console","_ref$constructor$name","_proto","_this2","scrollableNode","_this$_component","_loop","prop","remove","oldPropsAnimated","nextProps","_ref","_ref$style","style","props","_objectWithoutPropertiesLoose","_ref2","_ref2$style","passthruStyle","passthruProps","mergedStyle","_objectSpread","React","prevProps","forwardedRef"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n'use strict';\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport View from '../../../exports/View';\nimport { AnimatedEvent } from './AnimatedEvent';\nimport AnimatedProps from './nodes/AnimatedProps';\nimport * as React from 'react';\nimport NativeAnimatedHelper from './NativeAnimatedHelper';\nimport invariant from 'fbjs/lib/invariant';\nimport setAndForwardRef from '../Utilities/setAndForwardRef';\nvar animatedComponentNextId = 1;\n\nfunction createAnimatedComponent(Component, options) {\n  invariant(typeof Component !== 'function' || Component.prototype && Component.prototype.isReactComponent, '`createAnimatedComponent` does not support stateless functional components; ' + 'use a class component instead.');\n\n  var AnimatedComponent = /*#__PURE__*/function (_React$Component) {\n    _inheritsLoose(AnimatedComponent, _React$Component);\n\n    function AnimatedComponent() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n      _this._invokeAnimatedPropsCallbackOnMount = false;\n      _this._eventDetachers = [];\n      _this._animatedComponentId = animatedComponentNextId++ + \":animatedComponent\";\n\n      _this._isFabric = function () {\n        var _this$_component$_int, _this$_component$_int2, _this$_component$getN, _this$_component$getN2, _this$_component$getS, _this$_component$getS2;\n\n        // When called during the first render, `_component` is always null.\n        // Therefore, even if a component is rendered in Fabric, we can't detect\n        // that until ref is set, which happens sometime after the first render.\n        // In cases where this value switching between \"false\" and \"true\" on Fabric\n        // causes issues, add an additional check for _component nullity.\n        if (_this._component == null) {\n          return false;\n        }\n\n        return (// eslint-disable-next-line dot-notation\n          ((_this$_component$_int = _this._component['_internalInstanceHandle']) == null ? void 0 : (_this$_component$_int2 = _this$_component$_int.stateNode) == null ? void 0 : _this$_component$_int2.canonical) != null || // Some components have a setNativeProps function but aren't a host component\n          // such as lists like FlatList and SectionList. These should also use\n          // forceUpdate in Fabric since setNativeProps doesn't exist on the underlying\n          // host component. This crazy hack is essentially special casing those lists and\n          // ScrollView itself to use forceUpdate in Fabric.\n          // If these components end up using forwardRef then these hacks can go away\n          // as this._component would actually be the underlying host component and the above check\n          // would be sufficient.\n          _this._component.getNativeScrollRef != null && _this._component.getNativeScrollRef() != null && // eslint-disable-next-line dot-notation\n          ((_this$_component$getN = _this._component.getNativeScrollRef()['_internalInstanceHandle']) == null ? void 0 : (_this$_component$getN2 = _this$_component$getN.stateNode) == null ? void 0 : _this$_component$getN2.canonical) != null || _this._component.getScrollResponder != null && _this._component.getScrollResponder() != null && _this._component.getScrollResponder().getNativeScrollRef != null && _this._component.getScrollResponder().getNativeScrollRef() != null && ((_this$_component$getS = _this._component.getScrollResponder().getNativeScrollRef()[// eslint-disable-next-line dot-notation\n          '_internalInstanceHandle']) == null ? void 0 : (_this$_component$getS2 = _this$_component$getS.stateNode) == null ? void 0 : _this$_component$getS2.canonical) != null\n        );\n      };\n\n      _this._waitForUpdate = function () {\n        if (_this._isFabric()) {\n          NativeAnimatedHelper.API.setWaitingForIdentifier(_this._animatedComponentId);\n        }\n      };\n\n      _this._markUpdateComplete = function () {\n        if (_this._isFabric()) {\n          NativeAnimatedHelper.API.unsetWaitingForIdentifier(_this._animatedComponentId);\n        }\n      };\n\n      _this._animatedPropsCallback = function () {\n        if (_this._component == null) {\n          // AnimatedProps is created in will-mount because it's used in render.\n          // But this callback may be invoked before mount in async mode,\n          // In which case we should defer the setNativeProps() call.\n          // React may throw away uncommitted work in async mode,\n          // So a deferred call won't always be invoked.\n          _this._invokeAnimatedPropsCallbackOnMount = true;\n        } else if (process.env.NODE_ENV === 'test' || // For animating properties of non-leaf/non-native components\n        typeof _this._component.setNativeProps !== 'function' || // In Fabric, force animations to go through forceUpdate and skip setNativeProps\n        _this._isFabric()) {\n          _this.forceUpdate();\n        } else if (!_this._propsAnimated.__isNative) {\n          _this._component.setNativeProps(_this._propsAnimated.__getAnimatedValue());\n        } else {\n          throw new Error('Attempting to run JS driven animation on animated ' + 'node that has been moved to \"native\" earlier by starting an ' + 'animation with `useNativeDriver: true`');\n        }\n      };\n\n      _this._setComponentRef = setAndForwardRef({\n        getForwardedRef: function getForwardedRef() {\n          return _this.props.forwardedRef;\n        },\n        setLocalRef: function setLocalRef(ref) {\n          _this._prevComponent = _this._component;\n          _this._component = ref; // TODO: Delete this in a future release.\n\n          if (ref != null && ref.getNode == null) {\n            ref.getNode = function () {\n              var _ref$constructor$name;\n\n              console.warn('%s: Calling `getNode()` on the ref of an Animated component ' + 'is no longer necessary. You can now directly use the ref ' + 'instead. This method will be removed in a future release.', (_ref$constructor$name = ref.constructor.name) !== null && _ref$constructor$name !== void 0 ? _ref$constructor$name : '<<anonymous>>');\n              return ref;\n            };\n          }\n        }\n      });\n      return _this;\n    }\n\n    var _proto = AnimatedComponent.prototype;\n\n    _proto._attachNativeEvents = function _attachNativeEvents() {\n      var _this$_component,\n          _this2 = this;\n\n      // Make sure to get the scrollable node for components that implement\n      // `ScrollResponder.Mixin`.\n      var scrollableNode = (_this$_component = this._component) != null && _this$_component.getScrollableNode ? this._component.getScrollableNode() : this._component;\n\n      var _loop = function _loop(key) {\n        var prop = _this2.props[key];\n\n        if (prop instanceof AnimatedEvent && prop.__isNative) {\n          prop.__attach(scrollableNode, key);\n\n          _this2._eventDetachers.push(function () {\n            return prop.__detach(scrollableNode, key);\n          });\n        }\n      };\n\n      for (var key in this.props) {\n        _loop(key);\n      }\n    };\n\n    _proto._detachNativeEvents = function _detachNativeEvents() {\n      this._eventDetachers.forEach(function (remove) {\n        return remove();\n      });\n\n      this._eventDetachers = [];\n    };\n\n    _proto._attachProps = function _attachProps(nextProps) {\n      var oldPropsAnimated = this._propsAnimated;\n\n      if (nextProps === oldPropsAnimated) {\n        return;\n      }\n\n      this._propsAnimated = new AnimatedProps(nextProps, this._animatedPropsCallback); // When you call detach, it removes the element from the parent list\n      // of children. If it goes to 0, then the parent also detaches itself\n      // and so on.\n      // An optimization is to attach the new elements and THEN detach the old\n      // ones instead of detaching and THEN attaching.\n      // This way the intermediate state isn't to go to 0 and trigger\n      // this expensive recursive detaching to then re-attach everything on\n      // the very next operation.\n\n      if (oldPropsAnimated) {\n        oldPropsAnimated.__restoreDefaultValues();\n\n        oldPropsAnimated.__detach();\n      }\n    };\n\n    _proto.render = function render() {\n      var _ref = this._propsAnimated.__getValue() || {},\n          _ref$style = _ref.style,\n          style = _ref$style === void 0 ? {} : _ref$style,\n          props = _objectWithoutPropertiesLoose(_ref, [\"style\"]);\n\n      var _ref2 = this.props.passthroughAnimatedPropExplicitValues || {},\n          _ref2$style = _ref2.style,\n          passthruStyle = _ref2$style === void 0 ? {} : _ref2$style,\n          passthruProps = _objectWithoutPropertiesLoose(_ref2, [\"style\"]);\n\n      var mergedStyle = _objectSpread(_objectSpread({}, style), passthruStyle);\n\n      return /*#__PURE__*/React.createElement(Component, _extends({}, props, passthruProps, {\n        style: mergedStyle,\n        ref: this._setComponentRef\n      }));\n    };\n\n    _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n      this._waitForUpdate();\n\n      this._attachProps(this.props);\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      if (this._invokeAnimatedPropsCallbackOnMount) {\n        this._invokeAnimatedPropsCallbackOnMount = false;\n\n        this._animatedPropsCallback();\n      }\n\n      this._propsAnimated.setNativeView(this._component);\n\n      this._attachNativeEvents();\n\n      this._markUpdateComplete();\n    };\n\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(newProps) {\n      this._waitForUpdate();\n\n      this._attachProps(newProps);\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n      if (this._component !== this._prevComponent) {\n        this._propsAnimated.setNativeView(this._component);\n      }\n\n      if (this._component !== this._prevComponent || prevProps !== this.props) {\n        this._detachNativeEvents();\n\n        this._attachNativeEvents();\n      }\n\n      this._markUpdateComplete();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this._propsAnimated && this._propsAnimated.__detach();\n\n      this._detachNativeEvents();\n\n      this._markUpdateComplete();\n\n      this._component = null;\n      this._prevComponent = null;\n    };\n\n    return AnimatedComponent;\n  }(React.Component);\n\n  return /*#__PURE__*/React.forwardRef(function AnimatedComponentWrapper(props, ref) {\n    return /*#__PURE__*/React.createElement(AnimatedComponent, _extends({}, props, ref == null ? null : {\n      forwardedRef: ref\n    }));\n  });\n}\n\nexport default createAnimatedComponent;"]},"metadata":{},"sourceType":"module"}